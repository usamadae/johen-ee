<div class="animate__animated animate__fadeIn container-fluid mega-menu" id="mega-menu">
    <div class="container">
        <div class="d-flex mega-menu-gap">
            <!-- <div class="block">
                <h4 class="image-title">
                    Mission, Vision and Values
                </h4>
                <figure>
                    <img class="image-source" src="assets/img/assets/top1.png" alt="In The News">
                </figure>
                <p class="image-discription">Discription</p>
            </div> -->
            <div>
                <nav class="menu-col-1">

                    <h3 id="megamenu-title"></h3>
                    <ul id="megamenu1"></ul>
                </nav>
            </div>
            <div>
                <nav class="menu-col-2">
                    <h3 style="visibility: hidden;">Who We Are</h3>

                    <ul id="megamenu2"></ul>

                    <ul id="megamenu3" class="hide">
                        <li><span><img src="assets/img/icons/mega18.svg" alt="Business Modernization"></span><a
                                href="#">Business Modernization</a></li>
                        <li><span><img src="assets/img/icons/mega13.svg" alt="Business Transformation"></span><a
                                href="#">Business Transformation</a></li>
                        <li><span><img src="assets/img/icons/mega14.svg" alt="Change Management"></span><a
                                href="#">Change Management</a></li>
                        <li><span><img src="assets/img/icons/mega15.svg" alt="Customer Experience"></span><a
                                href="#">Customer Experience</a></li>
                        <li><span><img src="assets/img/icons/mega16.svg" alt="Digital Commerce"></span><a
                                href="#">Digital Commerce</a></li>

                        <li><span><img src="assets/img/icons/mega13.svg" alt="Finance Consulting"></span><a
                                href="#">Finance Consulting
                            </a>

                        </li>
                        <li><span><img src="assets/img/icons/mega17.svg" alt="Internal Audit"></span><a
                                href="#">Internal Audit
                            </a>
                        </li>
                        <li><span><img src="assets/img/icons/mega19.svg" alt="Supply Chain Management"></span><a
                                href="#">Supply Chain Management</a></li>
                    </ul>

                    <ul id="megamenu4" class="hide">
                        <li><span><img src="assets/img/icons/mega13.svg" alt="Digital Engineering"></span><a
                                href="#">Digital Engineering</a></li>
                        <li><span><img src="assets/img/icons/mega14.svg"
                                    alt="Engineering Lifecycle Management"></span><a href="#">Engineering Lifecycle
                                Management</a></li>
                        <li><span><img src="assets/img/icons/mega15.svg" alt="Integrated Engineering"></span><a
                                href="#">Integrated Engineering</a></li>
                        <li><span><img src="assets/img/icons/mega16.svg" alt="Software Development"></span><a
                                href="#">Software Development</a></li>
                        <li><span><img src="assets/img/icons/mega15.svg" alt="Systems Engineering"></span><a
                                href="#">Systems Engineering</a></li>



                    </ul>

                    <ul id="megamenu5" class="hide">
                        <li><span><img src="assets/img/icons/mega13.svg" alt="C2/4 & ISR"></span><a href="#">C2/4 &
                                ISR</a></li>
                        <li><span><img src="assets/img/icons/mega14.svg" alt="Platforms Mission Support"></span><a
                                href="#">Platforms Mission Support</a></li>
                        <li><span><img src="assets/img/icons/mega15.svg" alt="Operations & Sustainment"></span><a
                                href="#">Operations & Sustainment</a></li>
                        <li><span><img src="assets/img/icons/mega16.svg" alt="Intelligence Operations Support"></span><a
                                href="#">Intelligence Operations Support</a></li>

                    </ul>
                    <ul id="megamenu6" class="hide">
                        <li><span><img src="assets/img/icons/mega13.svg" alt="C2/4 & ISR"></span><a href="#">C2/4 j&
                                ISR</a></li>
                        <li><span><img src="assets/img/icons/mega14.svg" alt="Platforms Mission Support"></span><a
                                href="#">Platforms Mission Support</a></li>
                        <li><span><img src="assets/img/icons/mega15.svg" alt="Operations & Sustainment"></span><a
                                href="#">Operations & Sustainment</a></li>
                        <li><span><img src="assets/img/icons/mega16.svg" alt="Intelligence Operations Support"></span><a
                                href="#">Intelligence Operations Support</a></li>

                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>

<script>
const megamenus = {
    company: {
        title: 'Who We Are',
        header: {
            image: 'assets/img/assets/top3.png',
            title: 'Mission, Vision and Values',
            description: 'Learn about our goals and values.'
        },
        items: [{
                label: 'Company Overview',
                link: '/hpit-new/company-overview-2.php',
                icon: 'mega1.svg'
            },
            {
                label: 'Our Leaders',
                link: '/hpit-new/our-leaders.php',
                icon: 'mega2.svg'
            },
            {
                label: 'Ethics & Compliance',
                link: '#',
                icon: 'mega3.svg'
            },
            {
                label: 'Sustainability',
                link: '#',
                icon: 'mega4.svg'
            }

        ]
    },
    capabilities: {
        title: 'What We Do',
        header: {
            image: 'assets/img/assets/top4.png',
            title: 'Technology',
            description: 'Learn about our goals and values.'
        },
        items: [{
                label: 'Technology',
                link: '#',
                icon: 'mega9.svg'
            },
            {
                label: 'Business',
                link: '#',
                icon: 'mega10.svg'
            },
          
            {
                label: 'Engineering',
                link: '#',
                icon: 'mega11.svg'
            },
            {
                label: 'Mission',
                link: '#',
                icon: 'mega12.svg'
            },
            {
                label: 'Consulting',
                link: '#',
                icon: 'mega8.svg'
            }
            

        ]
    },
    industries: {
        title: 'Who We Serve',
        header: {
            image: 'assets/img/assets/top1.png',
            title: 'Automotive',
            description: 'Learn about our goals and values.'
        },
        items: [{
                label: 'Automotive',
                link: '#',
                icon: 'mega20.svg'
            },
            {
                label: 'Banking',
                link: '#',
                icon: 'mega21.svg'
            },
            {
                label: 'Defense',
                link: '#',
                icon: 'mega22.svg'
            },
            {
                label: 'Energy',
                link: '#',
                icon: 'mega23.svg'
            },
            {
                label: 'Government',
                link: '#',
                icon: 'mega24.svg'
            },
            {
                label: 'Health',
                link: '#',
                icon: 'mega25.svg'
            }
        ]
    },
    insights: {
        title: 'Preceptive',
        header: {
            image: 'assets/img/assets/top1.png',
            title: 'Articles',
            description: 'Learn about our goals and values.'
        },
        items: [{
                label: 'Articles',
                link: '#',
                icon: 'mega32.svg'
            },
            {
                label: 'Blogs',
                link: '#',
                icon: 'mega33.svg'
            },
            {
                label: 'Press Release',
                link: '#',
                icon: 'mega34.svg'
            },
            {
                label: 'Case Studies',
                link: '#',
                icon: 'mega35.svg'
            }

        ]
    },
    career: {
        title: 'Search Jobs',
        header: {
            image: 'assets/img/assets/top4.png',
            title: 'Alumni',
            description: 'Learn about our goals and values.'
        },
        items: [{
                label: 'About Life At HPIT',
                link: '#',
                icon: 'mega40.svg'
            },
            {
                label: 'Alumni',
                link: '#',
                icon: 'mega39.svg'
            },

            {
                label: 'Employees Benefits',
                link: '#',
                icon: 'mega41.svg'
            },
            {
                label: 'Experienced Professionals',
                link: '#',
                icon: 'mega42.svg'
            }


        ]
    }

};

const megamenus2 = {
    company: {
        title: 'Who ad Are',
        items: [{
                label: 'Diversity, Equity And Inclusion',
                link: '#',
                icon: 'mega5.svg'
            },
            {
                label: 'Contract Vehicles',
                link: '#',
                icon: 'mega6.svg'
            },
            {
                label: 'Partnership',
                link: '#',
                icon: 'mega7.svg'
            },
            {
                label: 'Global',
                link: 'global.php',
                icon: 'mega8.svg'
            }
        ]
    },
    capabilities: {
        title: 'What We Do',
        items: [{
                label: 'Analytics',
                link: '#',
                icon: 'mega13.svg'
            },
            {
                label: 'Application',
                link: '#',
                icon: 'mega14.svg'
            },
            {
                label: 'Cloud',
                link: '#',
                icon: 'mega15.svg'
            },
            {
                label: 'Cyber',
                link: '#',
                icon: 'mega16.svg'
            },
            {
                label: 'Digital',
                link: '#',
                icon: 'mega17.svg'
            },
            {
                label: 'Enterprice IT',
                link: '#',
                icon: 'mega18.svg'
            },
            {
                label: 'WiFi Enterprice',
                link: '#',
                icon: 'mega19.svg'
            },

        ]
    },
    industries: {
        title: 'Who We Serve',
        items: [{
                label: 'Homeland Security',
                link: '#',
                icon: 'mega26.svg'
            },
            {
                label: 'Intelligence',
                link: '#',
                icon: 'mega28.svg'
            },
            {
                label: 'Manufacturing',
                link: '#',
                icon: 'mega27.svg'
            },

            {
                label: 'Science',
                link: '#',
                icon: 'mega29.svg'
            },
            {
                label: 'Space',
                link: '#',
                icon: 'mega30.svg'
            },
            {
                label: 'Travel And Transportation',
                link: '#',
                icon: 'mega31.svg'
            }
        ]
    },
    insights: {
        title: 'Preceptive',
        items: [{
                label: 'In The News',
                link: '#',
                icon: 'mega36.svg'
            },
            {
                label: 'Awards & Recognition',
                link: '#',
                icon: 'mega37.svg'
            },
            {
                label: 'Events',
                link: '#',
                icon: 'mega38.svg'
            }



        ]
    },
    career: {
        title: 'Search Jobs',
        items: [{
                label: 'Internship & New Graduates',
                link: '#',
                icon: 'mega43.svg'
            },
            {
                label: 'Military Veterans',
                link: '#',
                icon: 'mega44.svg'
            },
            {
                label: 'Our Culture',
                link: '#',
                icon: 'mega45.svg'
            }


        ]
    }

};

function populatemegamenu(menuId) {
    const submenuElement = document.getElementById('megamenu-items');
    submenuElement.innerHTML = ''; // Clear existing items

    const menuHeader = document.getElementById('megamenu-header');
    const menuImage = document.getElementById('megamenu-image');
    const menuTitle = document.getElementById('megamenu-title');
    const menuDescription = document.getElementById('megamenu-description');

    if (megamenus[menuId]) {
        const {
            title,
            items,
            header
        } = megamenus[menuId];

        // Populate header
        menuImage.src = header.image;
        menuImage.alt = title;
        menuTitle.textContent = header.title;
        menuDescription.textContent = header.description;

        // Populate items
        items.forEach(item => {
            const blockDiv = document.createElement('div');
            blockDiv.className = 'block';

            const titleH4 = document.createElement('h4');
            titleH4.className = 'image-title';
            titleH4.textContent = item.label; // Assuming item.label is what you want to use as the title

            const figure = document.createElement('figure');
            const img = document.createElement('img');
            img.src = item.image; // Assuming there is an item.image field
            img.alt = item.label;
            figure.appendChild(img);

            const descriptionP = document.createElement('p');
            descriptionP.className = 'image-description';
            descriptionP.textContent = item.description; // Assuming there is an item.description field

            blockDiv.appendChild(titleH4);
            blockDiv.appendChild(figure);
            blockDiv.appendChild(descriptionP);

            submenuElement.appendChild(blockDiv);
        });

        return title; // Return the title for further use if needed
    }

    return null; // Return null if menuId is not found
}



function populatemegamenu(menuId) {
    const submenuElement = document.getElementById('megamenu1');
    submenuElement.innerHTML = ''; // Clear existing items

    if (megamenus[menuId]) {
        const {
            title,
            items,
            header
        } = megamenus[menuId];
        items.forEach(item => {
            const li = document.createElement('li');
            const span = document.createElement('span');
            const img = document.createElement('img');
            img.src = 'assets/img/icons/' + item.icon; // Assuming the icon name is provided in the item object
            img.alt = item.label;
            span.appendChild(img);
            const a = document.createElement('a');
            a.textContent = item.label;
            a.href = item.link;

            li.appendChild(span);
            li.appendChild(a);
            submenuElement.appendChild(li);
        });

        submenuElement.style.display = 'block'; // Display submenu
        return title; // Return the title
    }

    return null; // Return null if menuId is not found
}

function populatemegamenu2(menuId) {
    const submenuElement = document.getElementById('megamenu2');
    submenuElement.innerHTML = ''; // Clear existing items

    if (megamenus2[menuId]) {
        const {
            title,
            items
        } = megamenus2[menuId];
        items.forEach(item => {
            const li = document.createElement('li');
            const span = document.createElement('span');
            const img = document.createElement('img');
            img.src = 'assets/img/icons/' + item.icon; // Assuming the icon name is provided in the item object
            img.alt = item.label;
            span.appendChild(img);
            const a = document.createElement('a');
            a.textContent = item.label;
            a.href = item.link;

            li.appendChild(span);
            li.appendChild(a);
            submenuElement.appendChild(li);
        });

        submenuElement.style.display = 'block'; // Display submenu
        return title; // Return the title
    }

    return null; // Return null if menuId is not found
}

// Example of how to use the title
document.querySelectorAll('.navbar-nav .nav-item').forEach(menuItem => {
    menuItem.addEventListener('mouseover', (event) => {
        // Remove 'active' class from all menu items
        document.querySelectorAll('.navbar-nav .nav-item').forEach(item => {
            item.classList.remove('active');
        });

        // Add 'active' class to the hovered menu item
        menuItem.classList.add('active');

        const megamenu = document.getElementById('mega-menu');
        megamenu.style.display = 'block'; // Display submenu
        const menuId = menuItem.querySelector('a').getAttribute('data-menu');
        const title = populatemegamenu(menuId);

        // const imageTitle = document.querySelector('.image-title');

        // if (imageTitle) {
        //     const menuId = 'company'; 
        //     const title = megamenus[menuId].header.title; 
        //     imageTitle.textContent = title;
        // }
        if (title) {
            document.getElementById('megamenu-title').textContent = megamenus[menuId].title;
            document.querySelector('.image-title').textContent = megamenus[menuId].header.title;
            document.querySelector('.image-discription').textContent = megamenus[menuId].header
                .description;
            document.querySelector('.image-source').src = megamenus[menuId].header.image;
        }
    });
});


document.querySelectorAll('.navbar-nav .nav-item').forEach(menuItem2 => {
    menuItem2.addEventListener('mouseover', (event) => {
        var megamenu3 = document.getElementById('megamenu3');
        megamenu3.classList.add('hide');
        var megamenu4 = document.getElementById('megamenu4');
        megamenu4.classList.add('hide');
        var megamenu5 = document.getElementById('megamenu5');
        megamenu5.classList.add('hide');
        var megamenu6 = document.getElementById('megamenu6');
        megamenu6.classList.add('hide');

        // Add the class "hide" to the element with ID "megamenu2"
        var megamenu2 = document.getElementById('megamenu2');
        megamenu2.classList.remove('hide');
        const topMenu = document.querySelector(".top-menu");
        topMenu.classList.remove("active");
        document.querySelector('div#menuToggler img').setAttribute("src",
            "assets/img/icons/hamburger-open.svg");
        const menuId = menuItem2.querySelector('a').getAttribute('data-menu');
        const title = populatemegamenu2(menuId);
        // Add logic here to show/hide mega menu or handle other actions
    });
});



// Hide mega menu when mouse is not over the mega menu or the header
document.body.addEventListener('mouseover', (event) => {
    const isMegaMenu = event.target.closest('.mega-menu');
    const isHeader = event.target.closest('.header');

    if (!isMegaMenu && !isHeader) {
        const megamenu = document.getElementById('mega-menu');
        megamenu.style.display = 'none'; // Hide mega menu
        const menuItems = document.querySelectorAll('.navbar-nav .nav-item');

        menuItems.forEach(item => {
            item.classList.remove('active');
        });


    }
});
</script>